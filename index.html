<!DOCTYPE html>
<html>
  <head>
    <title>Modest Modal: A less presumptuous modal plugin</title>
    <link href="site.css" rel="stylesheet" />
  </head>
  <body>
    <div class="clearfix">
      <aside class="Sidebar">
        <div class="Sidebar-branding">
          Modest<br />Modal
        </div>
        <div class="Sidebar-externalLinks">
          <a href="https://github.com/jrhalchak/modest-modal"><strong>Download on Github</strong></a> |
          <a href="http://www.jrhalchak.com">jrhalchak</a>
        </div>
        <div class="Sidebar-licensing">

        </div>
        <div class="Sidebar-examples">
          <h3 class="Sidebar-examplesHeader">Examples</h3>
          <ul>
            <li>
              <a href="#" data-modestmodal data-modestmodal-type="html"
                data-modestmodal-content=".modest-modal-html"
                data-modestmodal-modal-class="medium Modal"
                data-modestmodal-close-selector=".js-modestModalClose">
                Open with HTML from hidden <code>DIV</code>
              </a>
            </li>
            <li>
              <a href="#" data-modestmodal data-modestmodal-type="html"
                data-modestmodal-content=".modest-modal-html"
                data-modestmodal-position="absolute"
                data-modestmodal-modal-class="medium Modal"
                data-modestmodal-close-selector=".js-modestModalClose">
                Open HTML with <code>absolute</code> positioning
              </a>
            </li>
            <li>
            <a href="#"
              data-modestmodal
              data-modestmodal-modal-class="Modal"
              data-modestmodal-type="content"
              data-modestmodal-content="blah blah">
              Open with content passed in
              </a>
            </li>
            <li>
            <a href="#"
              data-modestmodal
              data-modestmodal-type="content"
              data-modestmodal-modal-class="Modal"
              data-modestmodal-content="You can't close me by click!"
              data-modestmodal-uncloseable>
              Open an uncloseable modal
              </a>
              (you can still use your 'escape' key or use/pass a close button)
            </li>
            <li>
            <a href="#"
              data-modestmodal
              data-modestmodal-type="content"
              data-modestmodal-modal-class="Modal"
              data-modestmodal-content="MUAHAHAHAHAH!"
              data-modestmodal-uncloseable
              data-modestmodal-disable-escape>
              Open a TRULY uncloseable modal
              </a>
              <br />
              You'll need to run <code>$.modestmodal.close()</code> from your inspector console.
            </li>
            <li>
              <a href="#"
                data-modestmodal
                data-modestmodal-modal-class="Modal"
                data-modestmodal-type="ajax"
                data-modestmodal-content="test.html">
                Open ajax
                </a>
            </li>
          </ul>
          <ul>
            <li>
              <a href="#"
                data-modestmodal
                data-modestmodal-modal-class="Modal"
                data-modestmodal-type="html"
                data-modestmodal-content=".modest-modal-events-example"
                data-modestmodal-close-selector=".js-modestModalClose">
                Fire custom events
                </a>
            </li>
          </ul>
        </div>
      </aside>
      <main class="SiteContent">
        <h1>What is Modest Modal?</h1>
        <p>
          Modest modal is a jQuery plugin that makes as few styling presumptions as possible.  Technically I could've left out the overlay but good news, <em>you can override it</em>. Essentially it just centers a div on the page and fades an overlay into view.
        </p>
        <p>
          To see the default styles <a href="#" data-modestmodal data-modestmodal-type="content" data-modestmodal-content="Tada!">open the base modal</a> &mdash; it's just text on the overlay so it may be tough to see.
        </p>
        <p>
          This was inspired by uglipop.js but created for jQuery to allow for more plugin options and allow for stacking (and keeping track of) multiple modals.
        </p>
        <h2>Usage</h2>
        <p>
          Include the <code>modestmodal.jquery.min.js</code> somewhere after your jquery include at the bottom of the body &ndash; or wherever your scripts are.
          <br />
          Then just call initialize the plugin <code>$.modestmodal()</code>.
          <pre><code>&lt;script src=&quot;https://code.jquery.com/jquery-1.11.3.min.js&quot;&gt;&lt;/script&gt;<br />&lt;script src=&quot;compiled/modestmodal.jquery.js&quot;&gt;&lt;/script&gt;<br /><br />&lt;script&gt;<br />    $.modestmodal()<br />&lt;/script&gt;</code></pre>
        </p>
        <p>
          From there, you can manually call <code>$.modestmodal.open({options})</code> or add <code>data-modestmodal</code> to whatever element you want to trigger the modal (on click).
        </p>
        <h3>Options</h3>
        <p>
          <pre><code>{<br />    type: '', // 'ajax', 'html', or 'content'<br />    content: '', // 'url' when ajax, 'css-selector' when html, 'string' when content<br />    modalClass: '', // 'class' to add to modal on top of default class<br />    closeButton: '', // a 'selector' to apply the close button binding to<br />    transitionDuration: '', // '0.4s' override the transition length for fadeins<br />    positionX: '', // '50%', '500px', etc. Override the initial position FROM LEFT (for animation before it reaches 50%)<br />    positionY: '', // '50%', '500px', etc. Override the initial position FROM TOP (for animation before it reaches 50%)<br />    overlayBackground: '', // css background property values to override overlay &ndash; i.e. 'url(bg.jpg) top left no-repeat'<br />    disableEscape: Boolean, // passed in as true/false or checks existence of data attribute (with no value)<br />    uncloseable: Boolean, // passed in as true/false or checks existence of data attribute (with no value)<br />    ajaxCallback: function(){} // only works from code with function passed in <br />}</code></pre>
        </p>
        <h4>Element-Based Options</h4>
          <pre><code>&lt;a href=&quot;#&quot<br />    data-modestmodal</br >    data-modestmodal-type=&quot;&quot; &lt;!-- 'ajax', 'html', or 'content' --&gt;<br />    data-modestmodal-content=&quot;&quot; &lt;!-- 'url' when ajax, 'css-selector' when html, 'string' when content --&gt;<br />    data-modestmodal-modal-class=&quot;&quot; &lt;!-- 'class' to add to modal on top of default class --&gt;<br />    data-modestmodal-close-selector=&quot;&quot; &lt;!-- a 'selector' to apply the close button binding to --&gt;<br />    data-modestmodal-transition-duration=&quot;&quot; &lt;!-- '0.4s' override the transition length for fadeins --&gt;<br />    data-modestmodal-position-x=&quot;&quot; &lt;!-- '50%', '500px', etc. Override the initial position FROM LEFT (for animation before it reaches 50%) --&gt;<br />    data-modestmodal-position-y=&quot;&quot; &lt;!-- '50%', '500px', etc. Override the initial position FROM TOP (for animation before it reaches 50%) --&gt;<br />    data-modestmodal-overlay-background=&quot;&quot; &lt;!-- css background property values to override overlay &ndash; i.e. 'url(bg.jpg) top left no-repeat' --&gt;<br />    data-modestmodal-disable-escape &lt;!-- use data attribute as a boolean (no value) --&gt;<br />    data-modestmodal-uncloseable&gt; &lt;!-- use data attribute as a boolean (no value) --&gt;<br /><br />    Link to Modal&lt;/a&gt;</code></pre>
       <h4>Methods</h4>
        <dl>
          <dt><code>$.modestmodal.open({options})</code></dt>
          <dd>Will open a new modal based on the options object passed in</dd>
          <dt><code>$.modestmodal.getOpenModals()</code></dt>
          <dd>
            Returns an array of objects with the modals and overlays currently open in the order they were opened.
            <br /><br />
            The objects returned are <pre><code>{<br />    modal: $(), //jQuery object referencing the modal element<br />    overlay: $() //jQuery object referencing the overlay element<br />}</code></pre>
          </dd>
          <dt><code>$.modestmodal.close(optional index)</code></dt>
          <dd>
            Will close the last open modal by default. Accepts an optional index to close/remove (it uses the same array as <code>getOpenModals</code>). If the index is invalid, it reverts to closing the last open.
          </dd>
          <dt><code>$.modestmodal.destroy()</code></dt>
          <dd>
            Removes the modest modal plugin and removes any residual elements.<br />
            <strong>Note</strong>: this removes any elements who's <code>id</code> or <code>class</code> starts with &ldquo;modestmodal-&rdquo;
          </dd>
        </dl>
        <h4>Custom Events</h4>
        <dl>
          <dt><code>mm.beforeOpen</code></dt>
          <dd>Fires before the modal or overlay are added to the DOM and shown.</dd>
          <dt><code>mm.open</code></dt>
          <dd>Fires after element has been added and given full opacity (may happen before CSS transitions)</dd>
          <dt><code>mm.beforeClose</code></dt>
          <dd>Fires as soon as the <code>close</code> method is called</dd>
          <dt><code>mm.close</code></dt>
          <dd>Fires after modal and overlay are close and have been removed (if applicable)</dd>
        </dl>
        <h3>Versions</h3>
        <dl>
          <dt>1.0.4</dt>
          <dd>
            <ul class="u-noListPadding">
              <li>Add position property to modals</li>
              <li>Renames positionX and positionY to left and top respectively</li>
              <li>Quick-fix for multiple binding bug</li>
              <li>Fix for transparent modal staying displayed</li>
            </ul>
          </dd>
          <dt>1.0.3</d1>
          <dd>
            <ul class="u-noListPadding">
              <li>Adds custom events to modal. Can be used with type=HTML or with subscribed to through event bubbling.</li>
              <li>Duplicates modal when HTML is used so it knows not to remove it on close.</li>
              <li>Adds index option to close method.</li>
            </ul>
          </dd>
          <dt>1.0.0</d1>
          <dd>Initial commit</dd>
        </dl>
        <h3>Known Issues / Idea Board</h3>
        <ol>
          <li>
            Options passed on initialization are persistent when opening via method call (<code>$.modestmodal.open()</code>) but
            are ignored when calling a modal from data attributes on elements.
          </li>
          <li>
            Currently only accepts <code>#s</code> or <code>#.#s</code> notation for transition duration. Would be mice to add conversion to/from ms.
          </li>
          <li>
            Currently only works in IE9+. <strong>TODO</strong>: Change translate -50% to negative margins in a child div.
          </li>
          <li>
            Add absolute vs fixed positioning (potentially disable body scroll?)
          </li>
          <li>
            Doesn't account for browser window height and doesn't allow scrolling (to top or botttom of modal container).  Will either need a max-height in the code or adding &ldquo;meta&rdquo; scrolling of the modal.  The may be something that is just offset to the user's CSS styles to handle.
          </li>
        </ol>
        <strong>Having problems?</strong>
        <p>Hit me up on twitter <a href="http://www.twitter.com/onlinebhero">@onlinebhero</a></p>
        <p>
          Create an issue in git, pull-request, or fork it &mdash; or fork off ;).
        </p>
      </main>
    </div><!-- clearfix -->
    <div class="modest-modal-html">
      <a href="#" class="js-modestModalClose modal-close">&times;</a>
      <h4>HTML Modals</h4>
      <p>You love it?</p>
      <a href="#" data-modestmodal data-modestmodal-modal-class="Modal"
        data-modestmodal-type="content"
        data-modestmodal-content="<a href='#' data-modestmodal data-modestmodal-modal-class='Modal' data-modestmodal-type='content' data-modestmodal-content='More<br />content'>Open content two</a>">
        Open a stacking modal with content
      </a>
    </div>
    <div class="modest-modal-events-example">
      <a href="#" class="js-modestModalClose modal-close">&times;</a>
      <h4>Events Example</h4>
      <p>Close to fire close events.</p>
    </div>
    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src="compiled/modestmodal.jquery.min.js"></script>
    <script>
      $(function() {
        $.modestmodal();

        $(document).on('mm.beforeClose', '.modest-modal-events-example', function(e, modal, overlay) {
          alert('before close');
        }).on('mm.close', '.modest-modal-events-example', function(e, modal, overlay) {
          alert('closed');
        }).on('mm.beforeOpen', '.modest-modal-events-example', function(e, modal, overlay) {
          alert('before open');
        }).on('mm.open', '.modest-modal-events-example', function(e, modal, overlay) {
          alert('opened');
        });
      });
    </script>
  </body>
</html>

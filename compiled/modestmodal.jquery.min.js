// Modest Modal 1.0.4
// Jonathan Halchak, www.jrhalchak.com, @onlinebhero
// License: MIT - do whatever you want
!function(o,t,e,a){o.modestmodal=o.modestmodal||function(t){function e(o){return o?{type:o.type||i.type,content:o.content||i.content,closeButton:o.closeButton||i.closeButton,openSelector:o.openSelector||i.openSelector,modalClass:o.modalClass||i.modalClass,transitionDuration:o.transitionDuration||i.transitionDuration,left:o.left||i.left,top:o.top||i.top,overlayBackground:o.overlayBackground||i.overlayBackground,position:o.position||i.position,disableEscape:"undefined"!=typeof o.disableEscape?o.disableEscape:i.disableEscape,uncloseable:"undefined"!=typeof o.uncloseable?o.uncloseable:i.uncloseable}:{}}function a(t,e){s.push({modal:t,overlay:e}),t.appendTo("body").css("display","block"),e.appendTo("body").css("visibility","visible"),setTimeout(function(){e.css("opacity",1).on("click",function(){o(this).hasClass("uncloseable")||o.modestmodal.close()}),t.css({opacity:1,top:"50%"}),t.trigger("mm.open")},300)}function n(t){o("body").off("click",t).on("click",t,function(){o.modestmodal.close()})}function l(){i=o.extend({},i,e(t)),o("body").on("click",i.openSelector,function(){var t=o(this),e={type:t.data("modestmodal-type")||i.type,content:t.data("modestmodal-content")||i.content,modalClass:t.data("modestmodal-modal-class")||i.modalClass,closeButton:t.data("modestmodal-close-selector")||i.closeButton,transitionDuration:t.data("modestmodal-transition-duration")||i.transitionDuration,left:t.data("modestmodal-left")||i.left,top:t.data("modestmodal-top")||i.top,overlayBackground:t.data("modestmodal-overlay-background")||i.overlayBackground,position:t.data("modestmodal-position")||i.position,disableEscape:"undefined"!=typeof t.attr("data-modestmodal-disable-escape")?!0:!1,uncloseable:"undefined"!=typeof t.attr("data-modestmodal-uncloseable")?!0:!1};e.closeButton!==i.closeButton&&n(e.closeButton),o.modestmodal.open(e)}).on("keyup",function(t){var e=s.length>0?s[s.length-1].overlay:null;27==t.which&&e&&!e.hasClass("disableEscape")&&o.modestmodal.close()})}var s=[],d=!1,i={$modal:o('<div class="modestmodal-modal" />'),$overlay:o('<div class="modestmodal-overlay" />'),closeButton:".modestmodal-close",openSelector:"[data-modestmodal]",type:null,content:"",modalClass:"",zIndex:99900,transitionDuration:"0.4s",transitionProperty:{"-webkit-transition":"all 0.4s ease","-moz-transition":"all 0.4s ease",transition:"all 0.4s ease;"},left:"50%",top:"60%",modalStyles:{display:"none","-webkit-transform":"translate(-50%, -50%)","-ms-transform":"translate(-50%, -50%)",transform:"translate(-50%, -50%)",opacity:0},overlayStyles:{visibility:"hidden",position:"fixed",top:0,bottom:0,left:0,right:0,opacity:0,width:"100%",height:"100%","background-color":"black"},overlayBackground:"rgba(0,0,0,0.3)",position:"fixed",uncloseable:!1,disableEscape:!1,ajaxCallback:null};o.modestmodal.open=function(t){var l=i.$overlay.clone(),d=s.length+1,c=o.extend({},i,e(t)),r="html"==c.type?o(c.content).data("doNotRemove",!0):i.$modal.clone(),m=c.overlayStyles;return c.type?(c.transitionDuration!==i.transitionDuration&&(c.transitionProperty={"-webkit-transition":"all "+c.transitionDuration+"ease","-moz-transition":"all "+c.transitionDuration+"ease",transition:"all "+c.transitionDuration+"ease"}),m.background=c.overlayBackground,l.attr("id","modestmodal-overlay-"+d).css(m).css(c.transitionProperty).css("z-index",d+c.zIndex),c.uncloseable&&l.addClass("uncloseable"),c.disableEscape&&l.addClass("disableEscape"),r.addClass(c.modalClass).attr("id","modestmodal-modal-"+d).css(c.modalStyles).css(c.transitionProperty).css("position",c.position).css({"z-index":d+c.zIndex+1,top:c.top,left:c.left}),r.trigger("mm.beforeOpen"),"content"==c.type||"html"==c.type?("content"==c.type&&r.html(c.content),a(r,l)):"ajax"==c.type&&o.get(c.content).then(function(o){r.html(o),a(r,l),"function"==typeof c.ajaxCallback&&c.ajaxCallback()}).fail(function(){console.log("modestmodal: Error with AJAX call.")}),void(c.closeButton!==i.closeButton&&n(t.closeButton))):!1},o.modestmodal.getOpenModals=function(){return s},o.modestmodal.close=function(t){var e;return s.length?(e=t&&t<s.length?s.splice(t,1)[0]:s.pop(),o(e.modal).trigger("mm.beforeClose",[e.modal,e.overlay]),e.modal.css("opacity",0),e.overlay.css("opacity",0),void setTimeout(function(){e.modal.hide(),e.overlay.hide(),o(e.modal).trigger("mm.close"),e.modal.data("doNotRemove")||e.modal.remove(),e.overlay.remove()},400)):!1},o.modestmodal.destroy=function(){o("[id^=modestmodal-],[class^=modestmodal-]").remove(),o.modestmodal.prototype.destroy.apply(this,arguments)},d?t&&(i=o.extend({},i,e(t))):(l(),d=!0)}}(jQuery,window,document);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGVzdG1vZGFsLmpxdWVyeS5qcyJdLCJuYW1lcyI6WyIkIiwid2luZG93IiwiZG9jdW1lbnQiLCJ1bmRlZmluZWQiLCJtb2Rlc3Rtb2RhbCIsIm9wdGlvbnMiLCJjaGFuZ2VhYmxlUHJvcGVydGllcyIsIm9wdGlvbk9iamVjdCIsInR5cGUiLCJkZWZhdWx0cyIsImNvbnRlbnQiLCJjbG9zZUJ1dHRvbiIsIm9wZW5TZWxlY3RvciIsIm1vZGFsQ2xhc3MiLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJsZWZ0IiwidG9wIiwib3ZlcmxheUJhY2tncm91bmQiLCJwb3NpdGlvbiIsImRpc2FibGVFc2NhcGUiLCJ1bmNsb3NlYWJsZSIsInB1c2hBbmRBcHBlbmRNb2RhbHMiLCIkbmV3TW9kYWwiLCIkbmV3T3ZlcmxheSIsIl9jdXJyZW50TW9kYWxzIiwicHVzaCIsIm1vZGFsIiwib3ZlcmxheSIsImFwcGVuZFRvIiwiY3NzIiwic2V0VGltZW91dCIsIm9uIiwidGhpcyIsImhhc0NsYXNzIiwiY2xvc2UiLCJvcGFjaXR5IiwidHJpZ2dlciIsImJpbmRDbG9zZSIsIm9mZiIsIm1vZGVzdG1vZGFsSW5pdCIsImV4dGVuZCIsIiR0aGlzIiwiY3VzdG9tT3B0aW9ucyIsImRhdGEiLCJhdHRyIiwib3BlbiIsImUiLCIkbGF0ZXN0T3ZlcmxheSIsImxlbmd0aCIsIndoaWNoIiwibW9kZXN0bW9kYWxJbml0aWFsaXplZCIsIiRtb2RhbCIsIiRvdmVybGF5IiwiekluZGV4IiwidHJhbnNpdGlvblByb3BlcnR5IiwiLXdlYmtpdC10cmFuc2l0aW9uIiwiLW1vei10cmFuc2l0aW9uIiwidHJhbnNpdGlvbiIsIm1vZGFsU3R5bGVzIiwiZGlzcGxheSIsIi13ZWJraXQtdHJhbnNmb3JtIiwiLW1zLXRyYW5zZm9ybSIsInRyYW5zZm9ybSIsIm92ZXJsYXlTdHlsZXMiLCJ2aXNpYmlsaXR5IiwiYm90dG9tIiwicmlnaHQiLCJ3aWR0aCIsImhlaWdodCIsImJhY2tncm91bmQtY29sb3IiLCJhamF4Q2FsbGJhY2siLCJjbG9uZSIsIm1vZGFsQ291bnQiLCJvcHRzIiwiY29tcGxldGVPdmVybGF5U3R5bGVzIiwiYmFja2dyb3VuZCIsImFkZENsYXNzIiwiei1pbmRleCIsImh0bWwiLCJnZXQiLCJ0aGVuIiwiZmFpbCIsImNvbnNvbGUiLCJsb2ciLCJnZXRPcGVuTW9kYWxzIiwibW9kYWxJbmRleCIsIiQkbGFzdE9wZW4iLCJzcGxpY2UiLCJwb3AiLCJoaWRlIiwicmVtb3ZlIiwiZGVzdHJveSIsInByb3RvdHlwZSIsImFwcGx5IiwiYXJndW1lbnRzIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiOzs7Q0FJQyxTQUFZQSxFQUFHQyxFQUFRQyxFQUFVQyxHQUVoQ0gsRUFBRUksWUFBY0osRUFBRUksYUFBZSxTQUFTQyxHQStDdEMsUUFBU0MsR0FBcUJDLEdBQzVCLE1BQUlBLElBRUZDLEtBQU1ELEVBQWFDLE1BQVFDLEVBQVNELEtBQ3BDRSxRQUFTSCxFQUFhRyxTQUFXRCxFQUFTQyxRQUMxQ0MsWUFBYUosRUFBYUksYUFBZUYsRUFBU0UsWUFDbERDLGFBQWNMLEVBQWFLLGNBQWdCSCxFQUFTRyxhQUNwREMsV0FBWU4sRUFBYU0sWUFBY0osRUFBU0ksV0FDaERDLG1CQUFvQlAsRUFBYU8sb0JBQXNCTCxFQUFTSyxtQkFDaEVDLEtBQU1SLEVBQWFRLE1BQVFOLEVBQVNNLEtBQ3BDQyxJQUFLVCxFQUFhUyxLQUFPUCxFQUFTTyxJQUNsQ0Msa0JBQW1CVixFQUFhVSxtQkFBcUJSLEVBQVNRLGtCQUM5REMsU0FBVVgsRUFBYVcsVUFBWVQsRUFBU1MsU0FDNUNDLGNBQXFELG1CQUEvQlosR0FBYVksY0FBZ0NaLEVBQWFZLGNBQWdCVixFQUFTVSxjQUN6R0MsWUFBaUQsbUJBQTdCYixHQUFhYSxZQUE4QmIsRUFBYWEsWUFBY1gsRUFBU1csZ0JBSXZHLFFBQVNDLEdBQW9CQyxFQUFXQyxHQUN0Q0MsRUFBZUMsTUFDYkMsTUFBT0osRUFDUEssUUFBU0osSUFHWEQsRUFBVU0sU0FBUyxRQUFRQyxJQUFJLFVB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Ry9CVixFQUFLOUQsY0FBZ0JGLEVBQVNFLGFBQWEwQixFQUFVSyxFQUFjL0IsZ0JBL0NoRCxHQWtEekJYLEVBQUVJLFlBQVlnRixjQUFnQixXQUM1QixNQUFPNUQsSUFHVHhCLEVBQUVJLFlBQVk4QixNQUFRLFNBQVNtRCxHQUM3QixHQUFJQyxFQUVKLE9BQUk5RCxHQUFld0IsUUFHakJzQyxFQUFhRCxHQUFjQSxFQUFhN0QsRUFBZXdCLE9BQVN4QixFQUFlK0QsT0FBT0YsRUFBWSxHQUFHLEdBQUs3RCxFQUFlZ0UsTUFHM0h4RixFQUFFc0YsRUFBVzVELE9BQU9VLFFBQVEsa0JBQW1Ca0QsRUFBVzVELE1BQU80RCxFQUFXM0QsVUFDNUUyRCxFQUFXNUQsTUFBTUcsSUFBSSxVQUFVLEdBQy9CeUQsRUFBVzNELFFBQVFFLElBQUksVUFBVSxPQUMvQkMsWUFBVyxXQUNUd0QsRUFBVzVELE1BQU0rRCxPQUNqQkgsRUFBVzNELFFBQVE4RCxPQUNuQnpGLEVBQUVzRixFQUFXNUQsT0FBT1UsUUFBUSxZQUN4QmtELEVBQVc1RCxNQUFNaUIsS0FBSyxnQkFBZ0IyQyxFQUFXNUQsTUFBTWdFLFNBQzNESixFQUFXM0QsUUFBUStELFVBQ2xCLE9BZEksR0FpQlgxRixFQUFFSSxZQUFZdUYsUUFBVSxXQUNwQjNGLEVBQUUsNENBQTRDMEYsU0FDOUMxRixFQUFFSSxZQUFZd0YsVUFBVUQsUUFBUUUsTUFBTTdELEtBQU04RCxZQUc1QzVDLEVBR083QyxJQUNUSSxFQUFXVCxFQUFFd0MsVUFBVy9CLEVBQVVILEVBQXFCRCxNQUh2RGtDLElBQ0FXLEdBQXlCLEtBSzdCNkMsT0FBUTlGLE9BQVNDIiwiZmlsZSI6Im1vZGVzdG1vZGFsLmpxdWVyeS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBNb2Rlc3QgTW9kYWwgMS4wLjRcclxuLy8gSm9uYXRoYW4gSGFsY2hhaywgd3d3LmpyaGFsY2hhay5jb20sIEBvbmxpbmViaGVyb1xyXG4vLyBMaWNlbnNlOiBNSVQgLSBkbyB3aGF0ZXZlciB5b3Ugd2FudFxyXG5cclxuOyhmdW5jdGlvbiAoICQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcclxuXHJcbiAgJC5tb2Rlc3Rtb2RhbCA9ICQubW9kZXN0bW9kYWwgfHwgZnVuY3Rpb24ob3B0aW9ucykge1xyXG4gICAgICB2YXIgX2N1cnJlbnRNb2RhbHMgPSBbXSwgbW9kZXN0bW9kYWxJbml0aWFsaXplZCA9IGZhbHNlLCBzZWxmID0gdGhpcyxcclxuXHJcbiAgICAgIC8vICoqIG1lYW5zIHdpbGwgYWxsb3cgb3ZlcnJpZGVcclxuICAgICAgZGVmYXVsdHMgPSB7XHJcbiAgICAgICAgJG1vZGFsOiAkKCc8ZGl2IGNsYXNzPVwibW9kZXN0bW9kYWwtbW9kYWxcIiAvPicpLFxyXG4gICAgICAgICRvdmVybGF5OiAkKCc8ZGl2IGNsYXNzPVwibW9kZXN0bW9kYWwtb3ZlcmxheVwiIC8+JyksXHJcbiAgICAgICAgY2xvc2VCdXR0b246ICcubW9kZXN0bW9kYWwtY2xvc2UnLCAvLyAqKlxyXG4gICAgICAgIG9wZW5TZWxlY3RvcjogJ1tkYXRhLW1vZGVzdG1vZGFsXScsIC8vICoqXHJcbiAgICAgICAgdHlwZTogbnVsbCwgLy8gKipcclxuICAgICAgICBjb250ZW50OiAnJywgLy8gKipcclxuICAgICAgICBtb2RhbENsYXNzOiAnJywgLy8gKipcclxuICAgICAgICB6SW5kZXg6IDk5OTAwLFxyXG4gICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogJzAuNHMnLCAvLyAqKlxyXG4gICAgICAgIHRyYW5zaXRpb25Qcm9wZXJ0eToge1xyXG4gICAgICAgICAgICAnLXdlYmtpdC10cmFuc2l0aW9uJzogJ2FsbCAwLjRzIGVhc2UnLFxyXG4gICAgICAgICAgICAnLW1vei10cmFuc2l0aW9uJzogJ2FsbCAwLjRzIGVhc2UnLFxyXG4gICAgICAgICAgICAndHJhbnNpdGlvbic6ICdhbGwgMC40cyBlYXNlOydcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxlZnQ6ICc1MCUnLCAvLyBmcm9tIGxlZnQgLy8gKipcclxuICAgICAgICB0b3A6JzYwJScsIC8vIGZyb20gdG9wIC8vICoqXHJcbiAgICAgICAgbW9kYWxTdHlsZXM6IHtcclxuICAgICAgICAgICdkaXNwbGF5Jzonbm9uZScsXHJcbiAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlKC01MCUsIC01MCUpJyxcclxuICAgICAgICAgICctbXMtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKScsXHJcbiAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKScsXHJcbiAgICAgICAgICAnb3BhY2l0eSc6MFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb3ZlcmxheVN0eWxlczoge1xyXG4gICAgICAgICAgJ3Zpc2liaWxpdHknOidoaWRkZW4nLFxyXG4gICAgICAgICAgJ3Bvc2l0aW9uJzonZml4ZWQnLFxyXG4gICAgICAgICAgJ3RvcCc6MCxcclxuICAgICAgICAgICdib3R0b20nOjAsXHJcbiAgICAgICAgICAnbGVmdCc6MCxcclxuICAgICAgICAgICdyaWdodCc6MCxcclxuICAgICAgICAgICdvcGFjaXR5JzowLFxyXG4gICAgICAgICAgJ3dpZHRoJzonMTAwJScsXHJcbiAgICAgICAgICAnaGVpZ2h0JzonMTAwJScsXHJcbiAgICAgICAgICAnYmFja2dyb3VuZC1jb2xvcic6J2JsYWNrJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIG92ZXJsYXlCYWNrZ3JvdW5kOiAncmdiYSgwLDAsMCwwLjMpJywgLy8qKlxyXG4gICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLCAvLyoqXHJcbiAgICAgICAgdW5jbG9zZWFibGU6IGZhbHNlLCAvLyoqXHJcbiAgICAgICAgZGlzYWJsZUVzY2FwZTogZmFsc2UsIC8vKipcclxuICAgICAgICBhamF4Q2FsbGJhY2s6IG51bGwgLy8qKlxyXG4gICAgICB9O1xyXG5cclxuICAgICAgZnVuY3Rpb24gY2hhbmdlYWJsZVByb3BlcnRpZXMob3B0aW9uT2JqZWN0KSB7XHJcbiAgICAgICAgaWYoIW9wdGlvbk9iamVjdCkgcmV0dXJuIHt9O1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICB0eXBlOiBvcHRpb25PYmplY3QudHlwZSB8fCBkZWZhdWx0cy50eXBlLFxyXG4gICAgICAgICAgY29udGVudDogb3B0aW9uT2JqZWN0LmNvbnRlbnQgfHwgZGVmYXVsdHMuY29udGVudCxcclxuICAgICAgICAgIGNsb3NlQnV0dG9uOiBvcHRpb25PYmplY3QuY2xvc2VCdXR0b24gfHwgZGVmYXVsdHMuY2xvc2VCdXR0b24sXHJcbiAgICAgICAgICBvcGVuU2VsZWN0b3I6IG9wdGlvbk9iamVjdC5vcGVuU2VsZWN0b3IgfHwgZGVmYXVsdHMub3BlblNlbGVjdG9yLFxyXG4gICAgICAgICAgbW9kYWxDbGFzczogb3B0aW9uT2JqZWN0Lm1vZGFsQ2xhc3MgfHwgZGVmYXVsdHMubW9kYWxDbGFzcyxcclxuICAgICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogb3B0aW9uT2JqZWN0LnRyYW5zaXRpb25EdXJhdGlvbiB8fCBkZWZhdWx0cy50cmFuc2l0aW9uRHVyYXRpb24sXHJcbiAgICAgICAgICBsZWZ0OiBvcHRpb25PYmplY3QubGVmdCB8fCBkZWZhdWx0cy5sZWZ0LFxyXG4gICAgICAgICAgdG9wOiBvcHRpb25PYmplY3QudG9wIHx8IGRlZmF1bHRzLnRvcCxcclxuICAgICAgICAgIG92ZXJsYXlCYWNrZ3JvdW5kOiBvcHRpb25PYmplY3Qub3ZlcmxheUJhY2tncm91bmQgfHwgZGVmYXVsdHMub3ZlcmxheUJhY2tncm91bmQsXHJcbiAgICAgICAgICBwb3NpdGlvbjogb3B0aW9uT2JqZWN0LnBvc2l0aW9uIHx8IGRlZmF1bHRzLnBvc2l0aW9uLFxyXG4gICAgICAgICAgZGlzYWJsZUVzY2FwZTogdHlwZW9mIG9wdGlvbk9iamVjdC5kaXNhYmxlRXNjYXBlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbk9iamVjdC5kaXNhYmxlRXNjYXBlIDogZGVmYXVsdHMuZGlzYWJsZUVzY2FwZSxcclxuICAgICAgICAgIHVuY2xvc2VhYmxlOiB0eXBlb2Ygb3B0aW9uT2JqZWN0LnVuY2xvc2VhYmxlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbk9iamVjdC51bmNsb3NlYWJsZSA6IGRlZmF1bHRzLnVuY2xvc2VhYmxlXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBwdXNoQW5kQXBwZW5kTW9kYWxzKCRuZXdNb2RhbCwgJG5ld092ZXJsYXkpIHtcclxuICAgICAgICBfY3VycmVudE1vZGFscy5wdXNoKHtcclxuICAgICAgICAgIG1vZGFsOiAkbmV3TW9kYWwsXHJcbiAgICAgICAgICBvdmVybGF5OiAkbmV3T3ZlcmxheVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkbmV3TW9kYWwuYXBwZW5kVG8oJ2JvZHknKS5jc3MoJ2Rpc3BsYXknLCdibG9jaycpO1xyXG4gICAgICAgICRuZXdPdmVybGF5LmFwcGVuZFRvKCdib2R5JykuY3NzKCd2aXNpYmlsaXR5JywndmlzaWJsZScpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAkbmV3T3ZlcmxheS5jc3MoJ29wYWNpdHknLDEpLm9uKCdjbGljaycsZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmKCEkKHRoaXMpLmhhc0NsYXNzKCd1bmNsb3NlYWJsZScpKVxyXG4gICAgICAgICAgICAgICQubW9kZXN0bW9kYWwuY2xvc2UoKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgJG5ld01vZGFsLmNzcyh7J29wYWNpdHknOjEsJ3RvcCc6JzUwJSd9KTtcclxuICAgICAgICAgICRuZXdNb2RhbC50cmlnZ2VyKCdtbS5vcGVuJyk7XHJcbiAgICAgICAgfSwgMzAwKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gYmluZENsb3NlKGNsb3NlQnV0dG9uKSB7XHJcbiAgICAgICAgJCgnYm9keScpLm9mZignY2xpY2snLCBjbG9zZUJ1dHRvbikub24oJ2NsaWNrJywgY2xvc2VCdXR0b24sIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkLm1vZGVzdG1vZGFsLmNsb3NlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIG1vZGVzdG1vZGFsSW5pdCgpIHtcclxuICAgICAgICBkZWZhdWx0cyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgY2hhbmdlYWJsZVByb3BlcnRpZXMob3B0aW9ucykpO1xyXG5cclxuICAgICAgICAkKCdib2R5Jykub24oJ2NsaWNrJywgZGVmYXVsdHMub3BlblNlbGVjdG9yLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXHJcbiAgICAgICAgICAgIGN1c3RvbU9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgdHlwZTogJHRoaXMuZGF0YSgnbW9kZXN0bW9kYWwtdHlwZScpIHx8IGRlZmF1bHRzLnR5cGUsXHJcbiAgICAgICAgICAgICAgY29udGVudDogJHRoaXMuZGF0YSgnbW9kZXN0bW9kYWwtY29udGVudCcpIHx8IGRlZmF1bHRzLmNvbnRlbnQsXHJcbiAgICAgICAgICAgICAgbW9kYWxDbGFzczogJHRoaXMuZGF0YSgnbW9kZXN0bW9kYWwtbW9kYWwtY2xhc3MnKSB8fCBkZWZhdWx0cy5tb2RhbENsYXNzLFxyXG4gICAgICAgICAgICAgIGNsb3NlQnV0dG9uOiAkdGhpcy5kYXRhKCdtb2Rlc3Rtb2RhbC1jbG9zZS1zZWxlY3RvcicpIHx8IGRlZmF1bHRzLmNsb3NlQnV0dG9uLFxyXG4gICAgICAgICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogJHRoaXMuZGF0YSgnbW9kZXN0bW9kYWwtdHJhbnNpdGlvbi1kdXJhdGlvbicpIHx8IGRlZmF1bHRzLnRyYW5zaXRpb25EdXJhdGlvbixcclxuICAgICAgICAgICAgICBsZWZ0OiAkdGhpcy5kYXRhKCdtb2Rlc3Rtb2RhbC1sZWZ0JykgfHwgZGVmYXVsdHMubGVmdCxcclxuICAgICAgICAgICAgICB0b3A6ICR0aGlzLmRhdGEoJ21vZGVzdG1vZGFsLXRvcCcpIHx8IGRlZmF1bHRzLnRvcCxcclxuICAgICAgICAgICAgICBvdmVybGF5QmFja2dyb3VuZDogJHRoaXMuZGF0YSgnbW9kZXN0bW9kYWwtb3ZlcmxheS1iYWNrZ3JvdW5kJykgfHwgZGVmYXVsdHMub3ZlcmxheUJhY2tncm91bmQsXHJcbiAgICAgICAgICAgICAgcG9zaXRpb246ICR0aGlzLmRhdGEoJ21vZGVzdG1vZGFsLXBvc2l0aW9uJykgfHwgZGVmYXVsdHMucG9zaXRpb24sXHJcbiAgICAgICAgICAgICAgZGlzYWJsZUVzY2FwZTogdHlwZW9mICR0aGlzLmF0dHIoJ2RhdGEtbW9kZXN0bW9kYWwtZGlzYWJsZS1lc2NhcGUnKSAhPT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgdW5jbG9zZWFibGU6IHR5cGVvZiAkdGhpcy5hdHRyKCdkYXRhLW1vZGVzdG1vZGFsLXVuY2xvc2VhYmxlJykgIT09ICd1bmRlZmluZWQnID8gdHJ1ZSA6IGZhbHNlXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgaWYoY3VzdG9tT3B0aW9ucy5jbG9zZUJ1dHRvbiAhPT0gZGVmYXVsdHMuY2xvc2VCdXR0b24pIGJpbmRDbG9zZShjdXN0b21PcHRpb25zLmNsb3NlQnV0dG9uKTtcclxuICAgICAgICAgICQubW9kZXN0bW9kYWwub3BlbihjdXN0b21PcHRpb25zKTtcclxuICAgICAgICB9KS5vbigna2V5dXAnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICB2YXIgJGxhdGVzdE92ZXJsYXkgPSBfY3VycmVudE1vZGFscy5sZW5ndGggPiAwID8gX2N1cnJlbnRNb2RhbHNbX2N1cnJlbnRNb2RhbHMubGVuZ3RoIC0gMV0ub3ZlcmxheSA6IG51bGw7XHJcbiAgICAgICAgICBpZiAoZS53aGljaCA9PSAyNyAmJiAkbGF0ZXN0T3ZlcmxheSAmJiAhJGxhdGVzdE92ZXJsYXkuaGFzQ2xhc3MoJ2Rpc2FibGVFc2NhcGUnKSkgJC5tb2Rlc3Rtb2RhbC5jbG9zZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkLm1vZGVzdG1vZGFsLm9wZW4gPSBmdW5jdGlvbihjdXN0b21PcHRpb25zKXtcclxuICAgICAgICB2YXIgJG5ld092ZXJsYXkgPSBkZWZhdWx0cy4kb3ZlcmxheS5jbG9uZSgpLFxyXG4gICAgICAgICAgbW9kYWxDb3VudCA9IF9jdXJyZW50TW9kYWxzLmxlbmd0aCArIDEsXHJcbiAgICAgICAgICBvcHRzID0gJC5leHRlbmQoe30sIGRlZmF1bHRzLCBjaGFuZ2VhYmxlUHJvcGVydGllcyhjdXN0b21PcHRpb25zKSksXHJcbiAgICAgICAgICAkbmV3TW9kYWwgPSBvcHRzLnR5cGUgPT0gJ2h0bWwnID8gJChvcHRzLmNvbnRlbnQpLmRhdGEoJ2RvTm90UmVtb3ZlJywgdHJ1ZSkgOiBkZWZhdWx0cy4kbW9kYWwuY2xvbmUoKSxcclxuICAgICAgICAgIGNvbXBsZXRlT3ZlcmxheVN0eWxlcyA9IG9wdHMub3ZlcmxheVN0eWxlcztcclxuXHJcbiAgICAgICAgaWYgKCFvcHRzLnR5cGUpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gVE9ETzogY2hlY2sgdHJhbnNpdGlvbmR1cmF0aW9uIGZvciBpbnQgb3Igc3RyaW5nXHJcbiAgICAgICAgaWYgKG9wdHMudHJhbnNpdGlvbkR1cmF0aW9uICE9PSBkZWZhdWx0cy50cmFuc2l0aW9uRHVyYXRpb24pIHtcclxuICAgICAgICAgIG9wdHMudHJhbnNpdGlvblByb3BlcnR5ID0ge1xyXG4gICAgICAgICAgICAnLXdlYmtpdC10cmFuc2l0aW9uJzogJ2FsbCAnICsgb3B0cy50cmFuc2l0aW9uRHVyYXRpb24gKyAnZWFzZScsXHJcbiAgICAgICAgICAgICctbW96LXRyYW5zaXRpb24nOiAnYWxsICcgKyBvcHRzLnRyYW5zaXRpb25EdXJhdGlvbiArICdlYXNlJyxcclxuICAgICAgICAgICAgJ3RyYW5zaXRpb24nOiAnYWxsICcgKyBvcHRzLnRyYW5zaXRpb25EdXJhdGlvbiArICdlYXNlJyxcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbXBsZXRlT3ZlcmxheVN0eWxlcy5iYWNrZ3JvdW5kID0gb3B0cy5vdmVybGF5QmFja2dyb3VuZDtcclxuXHJcbiAgICAgICAgJG5ld092ZXJsYXkuYXR0cignaWQnLCAnbW9kZXN0bW9kYWwtb3ZlcmxheS0nICsgbW9kYWxDb3VudClcclxuICAgICAgICAgIC5jc3MoY29tcGxldGVPdmVybGF5U3R5bGVzKVxyXG4gICAgICAgICAgLmNzcyhvcHRzLnRyYW5zaXRpb25Qcm9wZXJ0eSlcclxuICAgICAgICAgIC5jc3MoJ3otaW5kZXgnLCAobW9kYWxDb3VudCArIG9wdHMuekluZGV4KSk7XHJcblxyXG4gICAgICAgIGlmKG9wdHMudW5jbG9zZWFibGUpICRuZXdPdmVybGF5LmFkZENsYXNzKCd1bmNsb3NlYWJsZScpO1xyXG4gICAgICAgIGlmKG9wdHMuZGlzYWJsZUVzY2FwZSkgJG5ld092ZXJsYXkuYWRkQ2xhc3MoJ2Rpc2FibGVFc2NhcGUnKTtcclxuXHJcbiAgICAgICAgJG5ld01vZGFsXHJcbiAgICAgICAgICAuYWRkQ2xhc3Mob3B0cy5tb2RhbENsYXNzKVxyXG4gICAgICAgICAgLmF0dHIoJ2lkJywgJ21vZGVzdG1vZGFsLW1vZGFsLScgKyBtb2RhbENvdW50KVxyXG4gICAgICAgICAgLmNzcyhvcHRzLm1vZGFsU3R5bGVzKVxyXG4gICAgICAgICAgLmNzcyhvcHRzLnRyYW5zaXRpb25Qcm9wZXJ0eSlcclxuICAgICAgICAgIC5jc3MoJ3Bvc2l0aW9uJywgb3B0cy5wb3NpdGlvbilcclxuICAgICAgICAgIC5jc3Moe1xyXG4gICAgICAgICAgICAnei1pbmRleCc6IChtb2RhbENvdW50ICsgb3B0cy56SW5kZXggKyAxKSxcclxuICAgICAgICAgICAgJ3RvcCc6IG9wdHMudG9wLFxyXG4gICAgICAgICAgICAnbGVmdCc6IG9wdHMubGVmdFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgJG5ld01vZGFsLnRyaWdnZXIoJ21tLmJlZm9yZU9wZW4nKTtcclxuXHJcbiAgICAgICAgaWYob3B0cy50eXBlID09ICdjb250ZW50JyB8fCBvcHRzLnR5cGUgPT0gJ2h0bWwnKSB7XHJcbiAgICAgICAgICBpZihvcHRzLnR5cGUgPT0gJ2NvbnRlbnQnKSAkbmV3TW9kYWwuaHRtbChvcHRzLmNvbnRlbnQpO1xyXG4gICAgICAgICAgcHVzaEFuZEFwcGVuZE1vZGFscygkbmV3TW9kYWwsICRuZXdPdmVybGF5KTtcclxuICAgICAgICB9IGVsc2UgaWYgKG9wdHMudHlwZSA9PSAnYWpheCcpIHtcclxuICAgICAgICAgICQuZ2V0KG9wdHMuY29udGVudClcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICRuZXdNb2RhbC5odG1sKGRhdGEpO1xyXG4gICAgICAgICAgICAgIHB1c2hBbmRBcHBlbmRNb2RhbHMoJG5ld01vZGFsLCAkbmV3T3ZlcmxheSk7XHJcbiAgICAgICAgICAgICAgaWYodHlwZW9mIG9wdHMuYWpheENhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBvcHRzLmFqYXhDYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZmFpbChmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ21vZGVzdG1vZGFsOiBFcnJvciB3aXRoIEFKQVggY2FsbC4nKTsgcmV0dXJuOyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvcHRzLmNsb3NlQnV0dG9uICE9PSBkZWZhdWx0cy5jbG9zZUJ1dHRvbikgYmluZENsb3NlKGN1c3RvbU9wdGlvbnMuY2xvc2VCdXR0b24pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkLm1vZGVzdG1vZGFsLmdldE9wZW5Nb2RhbHMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gX2N1cnJlbnRNb2RhbHM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICQubW9kZXN0bW9kYWwuY2xvc2UgPSBmdW5jdGlvbihtb2RhbEluZGV4KSB7XHJcbiAgICAgICAgdmFyICQkbGFzdE9wZW47XHJcblxyXG4gICAgICAgIGlmKCFfY3VycmVudE1vZGFscy5sZW5ndGgpIHtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJCRsYXN0T3BlbiA9IG1vZGFsSW5kZXggJiYgbW9kYWxJbmRleCA8IF9jdXJyZW50TW9kYWxzLmxlbmd0aCA/IF9jdXJyZW50TW9kYWxzLnNwbGljZShtb2RhbEluZGV4LCAxKVswXSA6IF9jdXJyZW50TW9kYWxzLnBvcCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJCgkJGxhc3RPcGVuLm1vZGFsKS50cmlnZ2VyKCdtbS5iZWZvcmVDbG9zZScsIFskJGxhc3RPcGVuLm1vZGFsLCAkJGxhc3RPcGVuLm92ZXJsYXldKTtcclxuICAgICAgICAkJGxhc3RPcGVuLm1vZGFsLmNzcygnb3BhY2l0eScsMCk7XHJcbiAgICAgICAgJCRsYXN0T3Blbi5vdmVybGF5LmNzcygnb3BhY2l0eScsMCk7XHJcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkJGxhc3RPcGVuLm1vZGFsLmhpZGUoKTtcclxuICAgICAgICAgICAgJCRsYXN0T3Blbi5vdmVybGF5LmhpZGUoKTtcclxuICAgICAgICAgICAgJCgkJGxhc3RPcGVuLm1vZGFsKS50cmlnZ2VyKCdtbS5jbG9zZScpO1xyXG4gICAgICAgICAgICBpZighJCRsYXN0T3Blbi5tb2RhbC5kYXRhKCdkb05vdFJlbW92ZScpKSAkJGxhc3RPcGVuLm1vZGFsLnJlbW92ZSgpXHJcbiAgICAgICAgICAgICQkbGFzdE9wZW4ub3ZlcmxheS5yZW1vdmUoKTtcclxuICAgICAgICAgIH0sIDQwMCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICQubW9kZXN0bW9kYWwuZGVzdHJveSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAkKCdbaWRePW1vZGVzdG1vZGFsLV0sW2NsYXNzXj1tb2Rlc3Rtb2RhbC1dJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAkLm1vZGVzdG1vZGFsLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZighbW9kZXN0bW9kYWxJbml0aWFsaXplZCkge1xyXG4gICAgICAgIG1vZGVzdG1vZGFsSW5pdCgpO1xyXG4gICAgICAgIG1vZGVzdG1vZGFsSW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbnMpIHtcclxuICAgICAgICBkZWZhdWx0cyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgY2hhbmdlYWJsZVByb3BlcnRpZXMob3B0aW9ucykpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbn0pKCBqUXVlcnksIHdpbmRvdyAsIGRvY3VtZW50ICk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
